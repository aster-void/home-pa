# HomePA Japan — プロジェクト概要

本書は HomePA Japan の全体像を示す概要ドキュメントです。目的、技術アーキテクチャ、コア機能、セキュリティ、UI/UX 方針、拡張計画、現状ステータス、そしてカスタム AI 構想を網羅します。

## 目的

日本のユーザーに最適化されたパーソナルアシスタント Web アプリケーションを提供します。日常の予定・メモ・移動（鉄道）を統合し、必要最小限の操作で「次にやること」を提案します。

## 技術アーキテクチャ

### フロントエンド

- フレームワーク: SvelteKit（Svelte 5 / Runes）
- 言語: TypeScript
- スタイリング: Tailwind CSS v4 + DaisyUI（ユーティリティ優先）
- UI コンポーネント: DaisyUI をベースにカスタム構築
- 日付処理: date-fns（ja ロケール）

### バックエンド

- ランタイム: SvelteKit サーバー（サーバーサイドのみで動く API/remote 関数）
- API: SvelteKit の `query`/`command` リモート関数（型安全な呼び出し）
- データ: まずは軽量な永続化から開始（実装時点の選定に依存）
- 認証: HTTP-only Cookie を前提としたセッション
- 入力検証: サーバーサイドでの厳格なバリデーション

### AI 統合

- 初期: ルールベースと LLM の併用（必要最小限の API 呼び出し）
- 将来: 外部 API 依存を抑えた独自モデルの検討（後述）
- レート制御: 乱用防止のためのレートリミット

## コア機能

- イベント管理
   - 日本語フォーマット対応カレンダー
   - 終日/時間指定、重要度、繰り返し、場所などを扱う作成 UI
   - 重要度ごとの色分け・プレビュー表示

- メモ
   - 簡易メモ作成・管理
   - タスク抽出や自動タグ付け（LLM/ルール）
   - イベントとの連携

## アシスト機能

- 鉄道アシスト（提案）
   - 重要度に応じた到着/出発バッファ（例: 重要 30 分前）
   - 将来的に日本の交通 API と連携（当面はモック/簡易ルール）

- 汎用 AI 提案
   - ユーザーデータからタスク/イベント/ルートを提案
   - 提案ごとに信頼度スコア付与
   - ユーザーフィードバックを将来の改善に活用

- 個人情報管理
   - 嗜好・習慣の保存
   - 自宅/職場/よく使う場所の記録
   - 日常ルーチンの追跡（セキュリティ優先）

## UI/UX 方針

- モダンでミニマル、全面日本語対応
- PC/モバイル両対応、アクセシビリティ配慮
- 重要度を色で直感的に把握できるデザイン
- 「考えさせない」提案（摩擦の少ない操作）

## 今後の拡張

1. 日本の鉄道 API とのリアルタイム連携
2. 天候データを考慮した提案
3. プッシュ通知/リマインド
4. モバイルアプリ（将来検討）
5. 高度な AI（継続学習/個人最適化/マルチモーダル）
6. ソーシャル共有（家族/友人）

## カスタム AI 構想（要約）

外部 API 依存を減らし、独自モデルへ移行。

- データ主権: ユーザーデータは自サーバーで安全に処理
- 日本特化: 生活習慣/鉄道/祝日/天候への適応
- コスト/可用性: API コスト削減とオフライン性
- 学習データ例: 鉄道遅延履歴、ユーザー行動、イベント分類、位置情報、天候

段階的ロードマップ:

1. 基盤構築（日本語 NLP 前処理、データ収集）
2. コアモデル（鉄道最適化、パーソナルコンテキスト）
3. 統合（SvelteKit バックエンドと接続、推論 API/remote 化）
4. 高度化（継続学習、個人最適化、マルチモーダル）
